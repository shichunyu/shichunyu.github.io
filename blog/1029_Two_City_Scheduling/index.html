<!DOCTYPE html><html><head><meta charSet="utf-8"/><meta http-equiv="x-ua-compatible" content="ie=edge"/><meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no"/><style data-href="/styles.17b48ec9c4a2e3b5ee62.css">.blogList-module--posts--1Pabz{list-style-type:none;margin:0}.blogList-module--post--1uFOd{margin:1rem 0}.blogList-module--post--1uFOd a{background:#f4f4f4;color:#000;display:block;padding:1rem;text-decoration:none}.blogList-module--post--1uFOd a:hover{background:#e4e4e4}.blogList-module--post--1uFOd h2{margin-bottom:0}.blogList-module--post--1uFOd p{color:#777;font-size:.8rem;font-style:italic}.sideNav-module--title--h0I_O{color:#000;font-size:3rem;text-decoration:none}.sideNav-module--nav-list--3Z84g{display:flex;list-style-type:none;margin:0}.sideNav-module--nav-item--1xDSj{color:grey;font-size:.9rem;margin-right:1.3rem;text-decoration:none}.sideNav-module--active-nav-item--3nHKH,.sideNav-module--nav-item--1xDSj:hover{color:#87ceeb}.layout-module--container--2TGku{height:100%;overflow:hidden;margin:0;display:flex;box-sizing:border-box}.layout-module--column-left--3CzHw{height:100%;display:flex;flex:1 1;max-width:300px;flex-direction:column}.layout-module--column-right--2YT9i{height:100%;display:flex;flex:2 1;flex-direction:column}.layout-module--bottom--3aXK-{flex-grow:1;overflow-y:auto}html{font-family:sans-serif;-ms-text-size-adjust:100%;-webkit-text-size-adjust:100%}body{margin:0;-webkit-font-smoothing:antialiased;-moz-osx-font-smoothing:grayscale}article,aside,details,figcaption,figure,footer,header,main,menu,nav,section,summary{display:block}audio,canvas,progress,video{display:inline-block}audio:not([controls]){display:none;height:0}progress{vertical-align:baseline}[hidden],template{display:none}a{background-color:transparent;-webkit-text-decoration-skip:objects}a:active,a:hover{outline-width:0}abbr[title]{border-bottom:none;text-decoration:underline;-webkit-text-decoration:underline dotted;text-decoration:underline dotted}b,strong{font-weight:inherit;font-weight:bolder}dfn{font-style:italic}h1{font-size:2em;margin:.67em 0}mark{background-color:#ff0;color:#000}small{font-size:80%}sub,sup{font-size:75%;line-height:0;position:relative;vertical-align:baseline}sub{bottom:-.25em}sup{top:-.5em}img{border-style:none}svg:not(:root){overflow:hidden}code,kbd,pre,samp{font-family:monospace,monospace;font-size:1em}figure{margin:1em 40px}hr{box-sizing:content-box;height:0;overflow:visible}button,input,optgroup,select,textarea{font:inherit;margin:0}optgroup{font-weight:700}button,input{overflow:visible}button,select{text-transform:none}[type=reset],[type=submit],button,html [type=button]{-webkit-appearance:button}[type=button]::-moz-focus-inner,[type=reset]::-moz-focus-inner,[type=submit]::-moz-focus-inner,button::-moz-focus-inner{border-style:none;padding:0}[type=button]:-moz-focusring,[type=reset]:-moz-focusring,[type=submit]:-moz-focusring,button:-moz-focusring{outline:1px dotted ButtonText}fieldset{border:1px solid silver;margin:0 2px;padding:.35em .625em .75em}legend{box-sizing:border-box;color:inherit;display:table;max-width:100%;padding:0;white-space:normal}textarea{overflow:auto}[type=checkbox],[type=radio]{box-sizing:border-box;padding:0}[type=number]::-webkit-inner-spin-button,[type=number]::-webkit-outer-spin-button{height:auto}[type=search]{-webkit-appearance:textfield;outline-offset:-2px}[type=search]::-webkit-search-cancel-button,[type=search]::-webkit-search-decoration{-webkit-appearance:none}::-webkit-input-placeholder{color:inherit;opacity:.54}::-webkit-file-upload-button{-webkit-appearance:button;font:inherit}html{font:112.5%/1.45em georgia,serif;box-sizing:border-box;overflow-y:scroll}*,:after,:before{box-sizing:inherit}body{color:rgba(0,0,0,.8);font-family:sans-serif;font-weight:400;word-wrap:break-word;-webkit-font-kerning:normal;font-kerning:normal;-ms-font-feature-settings:"kern","liga","clig","calt";font-feature-settings:"kern","liga","clig","calt"}img{max-width:100%;padding:0;margin:0 0 1.45rem}h1{font-size:2.25rem}h1,h2{padding:0;margin:0 0 1.45rem;color:inherit;font-family:-apple-system,BlinkMacSystemFont,Segoe UI,Roboto,Oxygen,Ubuntu,Cantarell,Fira Sans,Droid Sans,Helvetica Neue,sans-serif;font-weight:700;text-rendering:optimizeLegibility;line-height:1.1}h2{font-size:1.62671rem}h3{font-size:1.38316rem}h3,h4{padding:0;margin:0 0 1.45rem;color:inherit;font-family:-apple-system,BlinkMacSystemFont,Segoe UI,Roboto,Oxygen,Ubuntu,Cantarell,Fira Sans,Droid Sans,Helvetica Neue,sans-serif;font-weight:700;text-rendering:optimizeLegibility;line-height:1.1}h4{font-size:1rem}h5{font-size:.85028rem}h5,h6{padding:0;margin:0 0 1.45rem;color:inherit;font-family:-apple-system,BlinkMacSystemFont,Segoe UI,Roboto,Oxygen,Ubuntu,Cantarell,Fira Sans,Droid Sans,Helvetica Neue,sans-serif;font-weight:700;text-rendering:optimizeLegibility;line-height:1.1}h6{font-size:.78405rem}hgroup{padding:0;margin:0 0 1.45rem}ol,ul{padding:0;margin:0 0 1.45rem 1.45rem;list-style-position:outside;list-style-image:none}dd,dl,figure,p{padding:0;margin:0 0 1.45rem}pre{margin:0 0 1.45rem;font-size:.85rem;line-height:1.42;background:rgba(0,0,0,.04);border-radius:3px;overflow:auto;word-wrap:normal;padding:1.45rem}table{font-size:1rem;line-height:1.45rem;border-collapse:collapse;width:100%}fieldset,table{padding:0;margin:0 0 1.45rem}blockquote{padding:0;margin:0 1.45rem 1.45rem}form,iframe,noscript{padding:0;margin:0 0 1.45rem}hr{padding:0;margin:0 0 calc(1.45rem - 1px);background:rgba(0,0,0,.2);border:none;height:1px}address{padding:0;margin:0 0 1.45rem}b,dt,strong,th{font-weight:700}li{margin-bottom:.725rem}ol li,ul li{padding-left:0}li>ol,li>ul{margin-left:1.45rem;margin-bottom:.725rem;margin-top:.725rem}blockquote :last-child,li :last-child,p :last-child{margin-bottom:0}li>p{margin-bottom:.725rem}code,kbd,samp{font-size:.85rem;line-height:1.45rem}abbr,abbr[title],acronym{border-bottom:1px dotted rgba(0,0,0,.5);cursor:help}abbr[title]{text-decoration:none}td,th,thead{text-align:left}td,th{border-bottom:1px solid rgba(0,0,0,.12);font-feature-settings:"tnum";-moz-font-feature-settings:"tnum";-ms-font-feature-settings:"tnum";-webkit-font-feature-settings:"tnum";padding:.725rem .96667rem calc(.725rem - 1px)}td:first-child,th:first-child{padding-left:0}td:last-child,th:last-child{padding-right:0}code,tt{background-color:rgba(0,0,0,.04);border-radius:3px;font-family:SFMono-Regular,Consolas,Roboto Mono,Droid Sans Mono,Liberation Mono,Menlo,Courier,monospace;padding:.2em 0}pre code{background:none;line-height:1.42}code:after,code:before,tt:after,tt:before{letter-spacing:-.2em;content:" "}pre code:after,pre code:before,pre tt:after,pre tt:before{content:""}@media only screen and (max-width:480px){html{font-size:100%}}</style><meta name="generator" content="Gatsby 2.21.37"/><title data-react-helmet="true">Two City Scheduling | ChunYu&#x27;s Algorithm Library</title><style type="text/css">
    .anchor.before {
      position: absolute;
      top: 0;
      left: 0;
      transform: translateX(-100%);
      padding-right: 4px;
    }
    .anchor.after {
      display: inline-block;
      padding-left: 4px;
    }
    h1 .anchor svg,
    h2 .anchor svg,
    h3 .anchor svg,
    h4 .anchor svg,
    h5 .anchor svg,
    h6 .anchor svg {
      visibility: hidden;
    }
    h1:hover .anchor svg,
    h2:hover .anchor svg,
    h3:hover .anchor svg,
    h4:hover .anchor svg,
    h5:hover .anchor svg,
    h6:hover .anchor svg,
    h1 .anchor:focus svg,
    h2 .anchor:focus svg,
    h3 .anchor:focus svg,
    h4 .anchor:focus svg,
    h5 .anchor:focus svg,
    h6 .anchor:focus svg {
      visibility: visible;
    }
  </style><script>
    document.addEventListener("DOMContentLoaded", function(event) {
      var hash = window.decodeURI(location.hash.replace('#', ''))
      if (hash !== '') {
        var element = document.getElementById(hash)
        if (element) {
          var scrollTop = window.pageYOffset || document.documentElement.scrollTop || document.body.scrollTop
          var clientTop = document.documentElement.clientTop || document.body.clientTop || 0
          var offset = element.getBoundingClientRect().top + scrollTop - clientTop
          // Wait for the browser to finish rendering before scrolling.
          setTimeout((function() {
            window.scrollTo(0, offset - 0)
          }), 0)
        }
      }
    })
  </script><link as="script" rel="preload" href="/webpack-runtime-c38aea5e5689a73093c6.js"/><link as="script" rel="preload" href="/framework-d54fcf3f0204b459cf2d.js"/><link as="script" rel="preload" href="/app-600e8b761424eb561fc0.js"/><link as="script" rel="preload" href="/styles-823ae8103e36ae8a7f9f.js"/><link as="script" rel="preload" href="/commons-ed774e4364c401adff78.js"/><link as="script" rel="preload" href="/component---src-templates-blog-js-ac603466684a45037df7.js"/><link as="fetch" rel="preload" href="/page-data/blog/1029_Two_City_Scheduling/page-data.json" crossorigin="anonymous"/><link as="fetch" rel="preload" href="/page-data/app-data.json" crossorigin="anonymous"/></head><body><div id="___gatsby"><div style="outline:none" tabindex="-1" id="gatsby-focus-wrapper"><div class="layout-module--container--2TGku"><div class="layout-module--column-left--3CzHw"><div><div></div><div></div><a class="sideNav-module--title--h0I_O" href="/">ChunYu&#x27;s Algorithm Library</a><nav><ul class="sideNav-module--nav-list--3Z84g"><li><a class="sideNav-module--nav-item--1xDSj" href="/">Home</a></li><li><a class="sideNav-module--nav-item--1xDSj" href="/contact">Contact</a></li></ul></nav><div><h1>Algorithms</h1><ol class="blogList-module--posts--1Pabz"><li class="blogList-module--post--1uFOd"><a href="/blog/45_Jump_Game_II"><h1>45<!-- -->. <!-- -->Jump Game II</h1><p>2020.06.01</p></a></li><li class="blogList-module--post--1uFOd"><a href="/blog/237_Delete_a_Node_in_a_Linked_List"><h1>237<!-- -->. <!-- -->Delete a Node in a Linked List</h1><p>2020.06.02</p></a></li><li class="blogList-module--post--1uFOd"><a aria-current="page" class="" href="/blog/1029_Two_City_Scheduling"><h1>1029<!-- -->. <!-- -->Two City Scheduling</h1><p>2020.06.03</p></a></li><li class="blogList-module--post--1uFOd"><a href="/blog/322_Coin_Change"><h1>. </h1><p></p></a></li></ol></div></div></div><div class="layout-module--column-right--2YT9i"><h1>1029<!-- -->. <!-- -->Two City Scheduling</h1><p>2020.06.03</p><div><div class="toc">
<ul>
<li>
<p><a href="#overview">Overview</a></p>
<ul>
<li><a href="#source">Source</a></li>
<li><a href="#description">Description</a></li>
</ul>
</li>
<li>
<p><a href="#on2-runtime-solutions">O(n<sup>2</sup>) Runtime Solutions</a></p>
<ul>
<li><a href="#decision-tree---top-down-recursion">Decision Tree - Top Down Recursion</a></li>
<li><a href="#find-all-possible-combinations">Find all possible combinations</a></li>
<li><a href="#assign-cheapest-city-then-re-assign">Assign cheapest city, then re-assign</a></li>
<li><a href="#dynamic-programming">Dynamic Programming</a></li>
<li><a href="#sorting--greedy-onlogn--on">Sorting / Greedy: O(nLogn) / O(n)</a></li>
<li><a href="#using-lambda-to-sort-onlogn--o1">Using Lambda to Sort: O(n*Logn) / O(1)</a></li>
</ul>
</li>
</ul>
</div>
<h1 id="overview" style="position:relative;"><a href="#overview" aria-label="overview permalink" class="anchor before"><svg aria-hidden="true" focusable="false" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>Overview</h1>
<h2 id="source" style="position:relative;"><a href="#source" aria-label="source permalink" class="anchor before"><svg aria-hidden="true" focusable="false" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>Source</h2>
<p>Question Source: <a href="https://leetcode.com/problems/two-city-scheduling/solution/">Leetcode</a></p>
<h2 id="description" style="position:relative;"><a href="#description" aria-label="description permalink" class="anchor before"><svg aria-hidden="true" focusable="false" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>Description</h2>
<p>There are 2N people a company is planning to interview. The cost of flying the i-th person to city A is costs[I][0], and the cost of flying the i-th person to city B is costs[I][1].</p>
<p>Return the minimum cost to fly every person to a city such that exactly N people arrive in each city.</p>
<p><strong>Example 1:</strong></p>
<pre><code>Input: [[10,20],[30,200],[400,50],[30,20]]
Output: 110
Explanation: 
The first person goes to city A for a cost of 10.
The second person goes to city A for a cost of 30.
The third person goes to city B for a cost of 50.
The fourth person goes to city B for a cost of 20.

The total minimum cost is 10 + 30 + 50 + 20 = 110 to have half the people interviewing in each city.
</code></pre>
<p><strong>Note:</strong></p>
<pre><code>1 &#x3C;= costs.length &#x3C;= 100
It is guaranteed that costs.length is even.
1 &#x3C;= costs[I][0], costs[I][1] &#x3C;= 1000
</code></pre>
<h1 id="on2-runtime-solutions" style="position:relative;"><a href="#on2-runtime-solutions" aria-label="on2 runtime solutions permalink" class="anchor before"><svg aria-hidden="true" focusable="false" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>O(n<sup>2</sup>) Runtime Solutions</h1>
<p>All the solutions below unfortunately require iterating through all the possible combinations in the worst case scenario, resulting in O(n<sup>2</sup>) time complexity, which is not ideal.</p>
<h2 id="decision-tree---top-down-recursion" style="position:relative;"><a href="#decision-tree---top-down-recursion" aria-label="decision tree   top down recursion permalink" class="anchor before"><svg aria-hidden="true" focusable="false" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>Decision Tree - Top Down Recursion</h2>
<p>For every person, we can either send them to City A or City B. But there is a limit for each city that the capacity is only N/2. </p>
<p>We can make a decision tree and sum up the total cost at all the leaf nodes. Then, choose the leaf node with the least total cost.</p>
<p><span
      class="gatsby-resp-image-wrapper"
      style="position: relative; display: block; margin-left: auto; margin-right: auto; max-width: 750px; "
    >
      <span
    class="gatsby-resp-image-background-image"
    style="padding-bottom: 109.57446808510637%; position: relative; bottom: 0; left: 0; background-image: url('data:image/jpeg;base64,/9j/2wBDABALDA4MChAODQ4SERATGCgaGBYWGDEjJR0oOjM9PDkzODdASFxOQERXRTc4UG1RV19iZ2hnPk1xeXBkeFxlZ2P/2wBDARESEhgVGC8aGi9jQjhCY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2P/wgARCAAWABQDASIAAhEBAxEB/8QAFwABAQEBAAAAAAAAAAAAAAAAAAECBf/EABQBAQAAAAAAAAAAAAAAAAAAAAD/2gAMAwEAAhADEAAAAe8yNIFAD//EABYQAAMAAAAAAAAAAAAAAAAAABARIP/aAAgBAQABBQK0P//EABQRAQAAAAAAAAAAAAAAAAAAACD/2gAIAQMBAT8BH//EABQRAQAAAAAAAAAAAAAAAAAAACD/2gAIAQIBAT8BH//EABQQAQAAAAAAAAAAAAAAAAAAADD/2gAIAQEABj8CH//EABgQAAMBAQAAAAAAAAAAAAAAAAABEBEx/9oACAEBAAE/IdmxdMEo4f/aAAwDAQACAAMAAAAQMwg8/8QAFBEBAAAAAAAAAAAAAAAAAAAAIP/aAAgBAwEBPxAf/8QAFBEBAAAAAAAAAAAAAAAAAAAAIP/aAAgBAgEBPxAf/8QAHBABAAMAAgMAAAAAAAAAAAAAAQARIUFRMYGR/9oACAEBAAE/EFU5ktHOCUS7mNFZb1Eoa1yHYfUtvXHuAOX7APCf/9k='); background-size: cover; display: block;"
  ></span>
  <img
        class="gatsby-resp-image-image"
        alt="IMG DCAF5F7DBE58 1"
        title="IMG DCAF5F7DBE58 1"
        src="/static/f999612d43eb1aa2b7848cf46cb7bfbd/acb04/IMG_DCAF5F7DBE58-1.jpg"
        srcset="/static/f999612d43eb1aa2b7848cf46cb7bfbd/bc01b/IMG_DCAF5F7DBE58-1.jpg 188w,
/static/f999612d43eb1aa2b7848cf46cb7bfbd/bf173/IMG_DCAF5F7DBE58-1.jpg 375w,
/static/f999612d43eb1aa2b7848cf46cb7bfbd/acb04/IMG_DCAF5F7DBE58-1.jpg 750w,
/static/f999612d43eb1aa2b7848cf46cb7bfbd/ec605/IMG_DCAF5F7DBE58-1.jpg 1125w,
/static/f999612d43eb1aa2b7848cf46cb7bfbd/c58a3/IMG_DCAF5F7DBE58-1.jpg 1500w,
/static/f999612d43eb1aa2b7848cf46cb7bfbd/b260b/IMG_DCAF5F7DBE58-1.jpg 1658w"
        sizes="(max-width: 750px) 100vw, 750px"
        style="width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;"
        loading="lazy"
      />
    </span></p>
<h2 id="find-all-possible-combinations" style="position:relative;"><a href="#find-all-possible-combinations" aria-label="find all possible combinations permalink" class="anchor before"><svg aria-hidden="true" focusable="false" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>Find all possible combinations</h2>
<p>This is essentially the same approach as the decision tree, but instead we find all possible combinations of City A and City B where N/2 people are assigned to each city. Then we add up the total cost of each combination and choose the lowest cost.</p>
<p><span
      class="gatsby-resp-image-wrapper"
      style="position: relative; display: block; margin-left: auto; margin-right: auto; max-width: 750px; "
    >
      <span
    class="gatsby-resp-image-background-image"
    style="padding-bottom: 70.2127659574468%; position: relative; bottom: 0; left: 0; background-image: url('data:image/jpeg;base64,/9j/2wBDABALDA4MChAODQ4SERATGCgaGBYWGDEjJR0oOjM9PDkzODdASFxOQERXRTc4UG1RV19iZ2hnPk1xeXBkeFxlZ2P/2wBDARESEhgVGC8aGi9jQjhCY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2P/wgARCAAOABQDASIAAhEBAxEB/8QAFwABAQEBAAAAAAAAAAAAAAAAAAECBf/EABUBAQEAAAAAAAAAAAAAAAAAAAAB/9oADAMBAAIQAxAAAAHvKMqj/8QAFBABAAAAAAAAAAAAAAAAAAAAIP/aAAgBAQABBQJf/8QAFBEBAAAAAAAAAAAAAAAAAAAAEP/aAAgBAwEBPwE//8QAFREBAQAAAAAAAAAAAAAAAAAAABH/2gAIAQIBAT8BR//EABQQAQAAAAAAAAAAAAAAAAAAACD/2gAIAQEABj8CX//EABgQAAIDAAAAAAAAAAAAAAAAAAAQESFR/9oACAEBAAE/IVeuD//aAAwDAQACAAMAAAAQAC//xAAUEQEAAAAAAAAAAAAAAAAAAAAQ/9oACAEDAQE/ED//xAAVEQEBAAAAAAAAAAAAAAAAAAAAEf/aAAgBAgEBPxBD/8QAHhAAAgEDBQAAAAAAAAAAAAAAAAERMVGxIUFhgZH/2gAIAQEAAT8QjWrrcjl1uJ7pdEZIyJlbw//Z'); background-size: cover; display: block;"
  ></span>
  <img
        class="gatsby-resp-image-image"
        alt="IMG BCC77FB455DD 1"
        title="IMG BCC77FB455DD 1"
        src="/static/b8dcb569eaef80627c042bde59ea43d3/acb04/IMG_BCC77FB455DD-1.jpg"
        srcset="/static/b8dcb569eaef80627c042bde59ea43d3/bc01b/IMG_BCC77FB455DD-1.jpg 188w,
/static/b8dcb569eaef80627c042bde59ea43d3/bf173/IMG_BCC77FB455DD-1.jpg 375w,
/static/b8dcb569eaef80627c042bde59ea43d3/acb04/IMG_BCC77FB455DD-1.jpg 750w,
/static/b8dcb569eaef80627c042bde59ea43d3/ec605/IMG_BCC77FB455DD-1.jpg 1125w,
/static/b8dcb569eaef80627c042bde59ea43d3/c58a3/IMG_BCC77FB455DD-1.jpg 1500w,
/static/b8dcb569eaef80627c042bde59ea43d3/9a950/IMG_BCC77FB455DD-1.jpg 1578w"
        sizes="(max-width: 750px) 100vw, 750px"
        style="width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;"
        loading="lazy"
      />
    </span></p>
<h2 id="assign-cheapest-city-then-re-assign" style="position:relative;"><a href="#assign-cheapest-city-then-re-assign" aria-label="assign cheapest city then re assign permalink" class="anchor before"><svg aria-hidden="true" focusable="false" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>Assign cheapest city, then re-assign</h2>
<p>If there were no limits on the capacity for a city, then we would simply take the lowest cost city for every person. This is how we get the <code>Cities</code> array below. <code>0</code> means assign to City A, and <code>1</code> means assign to City B.</p>
<p><span
      class="gatsby-resp-image-wrapper"
      style="position: relative; display: block; margin-left: auto; margin-right: auto; max-width: 750px; "
    >
      <span
    class="gatsby-resp-image-background-image"
    style="padding-bottom: 58.51063829787234%; position: relative; bottom: 0; left: 0; background-image: url('data:image/jpeg;base64,/9j/2wBDABALDA4MChAODQ4SERATGCgaGBYWGDEjJR0oOjM9PDkzODdASFxOQERXRTc4UG1RV19iZ2hnPk1xeXBkeFxlZ2P/2wBDARESEhgVGC8aGi9jQjhCY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2P/wgARCAAMABQDASIAAhEBAxEB/8QAFgABAQEAAAAAAAAAAAAAAAAAAAEF/8QAFAEBAAAAAAAAAAAAAAAAAAAAAP/aAAwDAQACEAMQAAAB3VAH/8QAFBABAAAAAAAAAAAAAAAAAAAAIP/aAAgBAQABBQJf/8QAFBEBAAAAAAAAAAAAAAAAAAAAEP/aAAgBAwEBPwE//8QAFBEBAAAAAAAAAAAAAAAAAAAAEP/aAAgBAgEBPwE//8QAFBABAAAAAAAAAAAAAAAAAAAAIP/aAAgBAQAGPwJf/8QAFxABAQEBAAAAAAAAAAAAAAAAABEBEP/aAAgBAQABPyHlREx//9oADAMBAAIAAwAAABAzD//EABQRAQAAAAAAAAAAAAAAAAAAABD/2gAIAQMBAT8QP//EABQRAQAAAAAAAAAAAAAAAAAAABD/2gAIAQIBAT8QP//EABsQAAMAAgMAAAAAAAAAAAAAAAABESFhMVGh/9oACAEBAAE/EHl7OJaT2NG6SzV6f//Z'); background-size: cover; display: block;"
  ></span>
  <img
        class="gatsby-resp-image-image"
        alt="IMG 5A2AED123EFB 1"
        title="IMG 5A2AED123EFB 1"
        src="/static/a7475dbcec7be124abeaaede35fbbe13/acb04/IMG_5A2AED123EFB-1.jpg"
        srcset="/static/a7475dbcec7be124abeaaede35fbbe13/bc01b/IMG_5A2AED123EFB-1.jpg 188w,
/static/a7475dbcec7be124abeaaede35fbbe13/bf173/IMG_5A2AED123EFB-1.jpg 375w,
/static/a7475dbcec7be124abeaaede35fbbe13/acb04/IMG_5A2AED123EFB-1.jpg 750w,
/static/a7475dbcec7be124abeaaede35fbbe13/ec605/IMG_5A2AED123EFB-1.jpg 1125w,
/static/a7475dbcec7be124abeaaede35fbbe13/c58a3/IMG_5A2AED123EFB-1.jpg 1500w,
/static/a7475dbcec7be124abeaaede35fbbe13/a0a88/IMG_5A2AED123EFB-1.jpg 1647w"
        sizes="(max-width: 750px) 100vw, 750px"
        style="width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;"
        loading="lazy"
      />
    </span></p>
<p>But if through that approach we are over-capacity for one city X, then we need to remove people from city X to the other city. The rule for doing this will be that we choose the minimum cost difference.</p>
<p>In the above example, we have too many people in City B. In this case, we need to move people out of City B, and into City A. We want to remove as much cost as possible, and add as little cost as possible. This means we want to maximize the value of (B - A).</p>
<p><code>Diff</code> array shows the difference between A - B. So, since it’s the oppose of what we want, we want to choose the <em>smallest</em> values  from <code>Diff</code> to put into City A.</p>
<p>In this case, the smallest <code>Diff</code> values are -10, 10 and 20. -10 is already in our Cities array, 10 and 20 need to be moved to City A, which are indexes 3 and 4.</p>
<h2 id="dynamic-programming" style="position:relative;"><a href="#dynamic-programming" aria-label="dynamic programming permalink" class="anchor before"><svg aria-hidden="true" focusable="false" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>Dynamic Programming</h2>
<p>A dynamic programming solution can be derived from the approach of the above 2 solutions. And the runtime is still O(n<sup>2</sup>) at best.</p>
<p>Some good reads about a DP solution for this problem:</p>
<ul>
<li><a href="https://www.youtube.com/watch?v=cevaICIEyjs">Youtube: Two City Scheduling | LeetCode 1029 | C++, Java, Python</a></li>
<li><a href="https://leetcode.com/submissions/detail/348705496/?from=/explore/challenge/card/june-leetcoding-challenge/539/week-1-june-1st-june-7th/3349/">Leetcode Discussions | A dynamic programming solution. No code just explanation.</a></li>
<li><a href="https://leetcode.com/problems/two-city-scheduling/discuss/278731/Java-DP-Easy-to-Understand/565645">Leetcode Discussions | Java DP - Easy to Understand</a></li>
</ul>
<h2 id="sorting--greedy-onlogn--on" style="position:relative;"><a href="#sorting--greedy-onlogn--on" aria-label="sorting  greedy onlogn  on permalink" class="anchor before"><svg aria-hidden="true" focusable="false" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>Sorting / Greedy: O(nLogn) / O(n)</h2>
<p>Like in the above solutions, we find the <code>Diff</code> between each city, but this time, we sort the <code>Diff</code> array from least to greatest. </p>
<p>Since our <code>Diff</code> array is the value of A-B, the values that are smallest are the ones that should be assigned to City A, and the values that are largest should be assigned to City B.</p>
<p>When we create <code>Diff</code>, we should also include the index of the value, so that we remember which “person” it is after the sort. We can use tuples for that: <code>(diff, idx)</code></p>
<p>The final <code>sorted</code> array will look like below, and the first N/2 will be City A, while the latter half is City B.</p>
<p><span
      class="gatsby-resp-image-wrapper"
      style="position: relative; display: block; margin-left: auto; margin-right: auto; max-width: 750px; "
    >
      <span
    class="gatsby-resp-image-background-image"
    style="padding-bottom: 68.61702127659575%; position: relative; bottom: 0; left: 0; background-image: url('data:image/jpeg;base64,/9j/2wBDABALDA4MChAODQ4SERATGCgaGBYWGDEjJR0oOjM9PDkzODdASFxOQERXRTc4UG1RV19iZ2hnPk1xeXBkeFxlZ2P/2wBDARESEhgVGC8aGi9jQjhCY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2P/wgARCAAOABQDASIAAhEBAxEB/8QAFwABAQEBAAAAAAAAAAAAAAAAAQACBf/EABQBAQAAAAAAAAAAAAAAAAAAAAD/2gAMAwEAAhADEAAAAe6aBmP/xAAUEAEAAAAAAAAAAAAAAAAAAAAg/9oACAEBAAEFAl//xAAUEQEAAAAAAAAAAAAAAAAAAAAQ/9oACAEDAQE/AT//xAAUEQEAAAAAAAAAAAAAAAAAAAAQ/9oACAECAQE/AT//xAAUEAEAAAAAAAAAAAAAAAAAAAAg/9oACAEBAAY/Al//xAAYEAADAQEAAAAAAAAAAAAAAAAAARAxEf/aAAgBAQABPyHZ1DNn/9oADAMBAAIAAwAAABBTD//EABQRAQAAAAAAAAAAAAAAAAAAABD/2gAIAQMBAT8QP//EABQRAQAAAAAAAAAAAAAAAAAAABD/2gAIAQIBAT8QP//EABsQAAMAAgMAAAAAAAAAAAAAAAABESGRMWGB/9oACAEBAAE/EG1lVs9WzuONoqkrWBYR/9k='); background-size: cover; display: block;"
  ></span>
  <img
        class="gatsby-resp-image-image"
        alt="IMG 77FBF1E6096E 1"
        title="IMG 77FBF1E6096E 1"
        src="/static/2f0af46f94a5f04405079e054b59ac2a/acb04/IMG_77FBF1E6096E-1.jpg"
        srcset="/static/2f0af46f94a5f04405079e054b59ac2a/bc01b/IMG_77FBF1E6096E-1.jpg 188w,
/static/2f0af46f94a5f04405079e054b59ac2a/bf173/IMG_77FBF1E6096E-1.jpg 375w,
/static/2f0af46f94a5f04405079e054b59ac2a/acb04/IMG_77FBF1E6096E-1.jpg 750w,
/static/2f0af46f94a5f04405079e054b59ac2a/ec605/IMG_77FBF1E6096E-1.jpg 1125w,
/static/2f0af46f94a5f04405079e054b59ac2a/c58a3/IMG_77FBF1E6096E-1.jpg 1500w,
/static/2f0af46f94a5f04405079e054b59ac2a/03680/IMG_77FBF1E6096E-1.jpg 1652w"
        sizes="(max-width: 750px) 100vw, 750px"
        style="width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;"
        loading="lazy"
      />
    </span></p>
<p>To get the final cost, we have to use the index saved in each tuple to get the cost and then add them all up.</p>
<p>See a more <a href="https://leetcode.com/problems/two-city-scheduling/discuss/667876/Python-Greedy-with-Prove">formal proof for the Greedy Solution</a></p>
<pre><code class="language-py">class Solution:
    def twoCitySchedCost(self, costs):
        """
        costs type: List[List[int]]
        rtype: int
        """
        diff = [None] * len(costs)
        for i in range(len(costs)):
            val = costs[i][0] - costs[i][1]
            diff[i] = (val,i)
        # print(diff)

        diff.sort()
        # print(diff)

        cost = 0
        for i in range(len(diff)):
            idx = diff[i][1]
            if i &#x3C; len(diff) / 2:
                cost += costs[idx][0]
            else:
                cost += costs[idx][1]
            # print(cost)
        return cost

s = Solution()
print(s.twoCitySchedCost([[10, 20], [100, 40], [400, 50], [30, 20],[80,60],[200,30]])) # 240
print(s.twoCitySchedCost([[10,20],[30,200],[400,50],[30,20]])) # 110
</code></pre>
<h2 id="using-lambda-to-sort-onlogn--o1" style="position:relative;"><a href="#using-lambda-to-sort-onlogn--o1" aria-label="using lambda to sort onlogn  o1 permalink" class="anchor before"><svg aria-hidden="true" focusable="false" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>Using Lambda to Sort: O(n*Logn) / O(1)</h2>
<p>The above solution has a space complexity of O(n) because we must store the <code>Diff</code> array. This can be improved upon by using <code>lambda</code> to reduce space to O(1).</p>
<pre><code class="language-py">class Solution:
    def twoCitySchedCost(self, costs: List[List[int]]) -> int:
        # Sort by a gain which company has 
        # by sending a person to city A and not to city B
        costs.sort(key = lambda x : x[0] - x[1])
        
        total = 0
        n = len(costs) // 2
        # To optimize the company expenses,
        # send the first n persons to the city A
        # and the others to the city B
        for i in range(n):
            total += costs[i][0] + costs[i + n][1]
        return total
</code></pre></div></div></div></div><div id="gatsby-announcer" style="position:absolute;top:0;width:1px;height:1px;padding:0;overflow:hidden;clip:rect(0, 0, 0, 0);white-space:nowrap;border:0" aria-live="assertive" aria-atomic="true"></div></div><script id="gatsby-script-loader">/*<![CDATA[*/window.pagePath="/blog/1029_Two_City_Scheduling";/*]]>*/</script><script id="gatsby-chunk-mapping">/*<![CDATA[*/window.___chunkMapping={"app":["/app-600e8b761424eb561fc0.js"],"component---src-pages-404-js":["/component---src-pages-404-js-5f87132806e3b9a03a9f.js"],"component---src-pages-contact-js":["/component---src-pages-contact-js-e76ed06b5e916979f90f.js"],"component---src-pages-index-js":["/component---src-pages-index-js-254bbb04122dd1bbff4e.js"],"component---src-templates-blog-js":["/component---src-templates-blog-js-ac603466684a45037df7.js"]};/*]]>*/</script><script src="/component---src-templates-blog-js-ac603466684a45037df7.js" async=""></script><script src="/commons-ed774e4364c401adff78.js" async=""></script><script src="/styles-823ae8103e36ae8a7f9f.js" async=""></script><script src="/app-600e8b761424eb561fc0.js" async=""></script><script src="/framework-d54fcf3f0204b459cf2d.js" async=""></script><script src="/webpack-runtime-c38aea5e5689a73093c6.js" async=""></script></body></html>